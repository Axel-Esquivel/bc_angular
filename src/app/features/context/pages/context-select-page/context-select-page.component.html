<section class="context-page">
  <p-card header="Selecciona contexto" class="context-card">
    <form [formGroup]="form" (ngSubmit)="save()" class="form">
      <div class="field">
        <p-floatLabel>
          <p-select
            inputId="organizationId"
            [options]="organizations"
            optionLabel="name"
            optionValue="id"
            [loading]="loadingOrganizations"
            placeholder="Selecciona una organizacion"
            formControlName="organizationId"
            appendTo="body"
          ></p-select>
          <label for="organizationId">Organizacion</label>
        </p-floatLabel>
      </div>

      <div class="field">
        <p-floatLabel>
          <p-select
            inputId="countryId"
            [options]="countryOptions"
            optionLabel="label"
            optionValue="value"
            [loading]="loadingCore"
            placeholder="Selecciona un pais"
            formControlName="countryId"
            appendTo="body"
          ></p-select>
          <label for="countryId">Pais</label>
        </p-floatLabel>
      </div>

      <div class="field">
        <p-floatLabel>
          <p-select
            inputId="companyId"
            [options]="companies"
            optionLabel="name"
            optionValue="id"
            [loading]="loadingCompanies"
            placeholder="Selecciona una compania"
            formControlName="companyId"
            appendTo="body"
          ></p-select>
          <label for="companyId">Compania</label>
        </p-floatLabel>
      </div>

      <div class="field">
        <p-floatLabel>
          <p-select
            inputId="enterpriseId"
            [options]="enterpriseOptions"
            optionLabel="label"
            optionValue="value"
            [loading]="loadingBranches"
            [placeholder]="enterpriseOptions.length === 0 ? 'Sin empresas' : 'Selecciona una empresa'"
            formControlName="enterpriseId"
            appendTo="body"
          ></p-select>
          <label for="enterpriseId">Empresa</label>
        </p-floatLabel>
      </div>

      <div class="field">
        <p-floatLabel>
          <p-select
            inputId="currencyId"
            [options]="currencyOptions"
            optionLabel="label"
            optionValue="value"
            placeholder="Selecciona una moneda"
            formControlName="currencyId"
            appendTo="body"
          ></p-select>
          <label for="currencyId">Moneda</label>
        </p-floatLabel>
      </div>

      <div class="actions">
        <p-button type="submit" label="Guardar" [disabled]="form.invalid || submitting"></p-button>
      </div>
    </form>
  </p-card>
</section>
