<p-toast></p-toast>

<div class="workspace-setup">
  <p-card>
    <ng-template pTemplate="header">
      <h2>Activar módulos</h2>
    </ng-template>
    <p class="subtitle">Selecciona los módulos que deseas habilitar en este workspace.</p>

    <div class="modules-grid" *ngIf="modules.length > 0; else emptyState">
      <button
        type="button"
        class="module-card"
        *ngFor="let module of modules"
        [class.is-active]="isEnabled(module.id)"
        [class.active-module]="isEnabled(module.id)"
        (click)="toggleModule(module)"
      >
        <i class="module-icon pi pi-box"></i>
        <div class="module-name">
          {{ module.name }}
        </div>
        <span
          class="module-status"
          [ngClass]="isEnabled(module.id) ? 'status-active' : 'status-inactive'"
        >
          {{ isEnabled(module.id) ? 'Activo' : 'Instalar' }}
        </span>
      </button>
    </div>
    <ng-template #emptyState>
      <div class="empty-state">No hay modulos disponibles.</div>
    </ng-template>

    <div class="actions">
      <p-button
        label="Continuar"
        [disabled]="submitting"
        (onClick)="continue()"
      ></p-button>
    </div>
  </p-card>
</div>
